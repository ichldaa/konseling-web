<!DOCTYPE html><html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Konseling Praktik Konseling Care</title>
    <style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #f3e8ff;
            margin: 0;
            padding: 0;
            color: #4a148c;
        }header {
        background-color: #ce93d8;
        padding: 20px;
        text-align: center;
        color: white;
        border-bottom: 5px solid #ba68c8;
    }

    .container {
        padding: 20px;
    }

    .form-group {
        margin-bottom: 15px;
    }

    label {
        display: block;
        font-weight: bold;
    }

    input, select {
        width: 100%;
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #ba68c8;
    }

    button {
        background-color: #ba68c8;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1em;
    }

    .result, .nota {
        background-color: white;
        border: 2px dashed #ba68c8;
        padding: 20px;
        margin-top: 20px;
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(186, 104, 200, 0.2);
    }
</style>

</head>
<body>
    <header>
        <h1>Praktik Konseling Care</h1>
        <p>Formulir Konseling & Nota Digital</p>
    </header><div class="container">
    <form id="konselingForm">
        <div class="form-group">
            <label>Nama Pasien:</label>
            <input type="text" id="nama" required>
        </div>
        <div class="form-group">
            <label>Alamat:</label>
            <input type="text" id="alamat" required>
        </div>
        <div class="form-group">
            <label>Jenis Layanan:</label>
            <select id="layanan" required>
                <option value="">-- Pilih Jenis Layanan --</option>
                <option value="Konseling Pribadi">Konseling Pribadi</option>
                <option value="Konseling Akademik">Konseling Akademik</option>
            </select>
        </div>
        <div class="form-group">
            <label>Konselor:</label>
            <select id="konselor" required>
                <option value="">-- Pilih Konselor --</option>
                <option value="dr. Imah, M.Psi">dr. Imah, M.Psi</option>
                <option value="dr. Herlina, M.Psi">dr. Herlina, M.Psi</option>
            </select>
        </div>
        <div class="form-group">
            <label>Tanggal & Jam Konseling:</label>
            <input type="datetime-local" id="tanggal" required>
        </div>
        <div class="form-group">
            <label>Durasi (menit):</label>
            <input type="number" id="durasi" readonly>
        </div>
        <div class="form-group">
            <label>Biaya (Rp):</label>
            <input type="number" id="biaya" readonly>
        </div>
        <button type="submit">Kirim & Tampilkan Nota</button>
    </form>

    <div id="output" class="result" style="display:none;"></div>
    <div id="nota" class="nota" style="display:none;"></div>
</div>

<script>
    // Ganti dengan data dari dashboard Supabase-mu
const SUPABASE_URL = "https://aevewznlfrjdhkumtvcc.supabase.co";
const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFldmV3em5sZnJqZGhrdW10dmNjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc2NTU2NDIsImV4cCI6MjA2MzIzMTY0Mn0.I6q8oD3jlroy_AsB606Haf05XQRfuXf9_e8V4ZrzhIo";
const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

const form = document.getElementById('konselingForm');
const layananSelect = document.getElementById('layanan');
const durasiInput = document.getElementById('durasi');
const biayaInput = document.getElementById('biaya');

form.addEventListener('submit', async function(e) {
  e.preventDefault();

  const nama = document.getElementById('nama').value;
  const alamat = document.getElementById('alamat').value;
  const layanan = layananSelect.value;
  const konselor = document.getElementById('konselor').value;
  const tanggal = document.getElementById('tanggal').value;
  const durasi = durasiInput.value;
  const biaya = biayaInput.value;
    const { data, error } = await supabase
    .from('konseling')
    .insert([{ nama, alamat, layanan, konselor, tanggal, durasi: Number(durasi), biaya: Number(biaya) }]);

  if (error) {
    alert("Gagal menyimpan data: " + error.message);
  } else {
    alert("Data berhasil disimpan ke database!");
 Â }
});

    form.addEventListener('submit', function(e) {
        e.preventDefault();

        const nama = document.getElementById('nama').value;
        const alamat = document.getElementById('alamat').value;
        const layanan = layananSelect.value;
        const konselor = document.getElementById('konselor').value;
        const tanggal = document.getElementById('tanggal').value;
        const durasi = durasiInput.value;
        const biaya = biayaInput.value;

        output.style.display = 'block';
        nota.style.display = 'block';

        output.innerHTML = `
            <h2>Data Konseling</h2>
            <p><strong>Nama:</strong> ${nama}</p>
            <p><strong>Alamat:</strong> ${alamat}</p>
            <p><strong>Jenis Layanan:</strong> ${layanan}</p>
            <p><strong>Konselor:</strong> ${konselor}</p>
            <p><strong>Waktu Konseling:</strong> ${new Date(tanggal).toLocaleString('id-ID')}</p>
            <p><strong>Durasi:</strong> ${durasi} menit</p>
            <p><strong>Biaya:</strong> Rp${parseInt(biaya).toLocaleString('id-ID')}</p>
        `;

        nota.innerHTML = `
            <h2>Nota Digital</h2>
            <p>Telah diterima pembayaran dari <strong>${nama}</strong></p>
            <p>Untuk layanan <strong>${layanan}</strong> yang ditangani oleh <strong>${konselor}</strong></p>
            <p>Tanggal & Waktu: ${new Date(tanggal).toLocaleString('id-ID')}</p>
            <p>Durasi: ${durasi} menit</p>
            <p><strong>Total Biaya: Rp${parseInt(biaya).toLocaleString('id-ID')}</strong></p>
            <p>Terima kasih telah menggunakan layanan kami!</p>
        `;
    });
</script>

</body>
</html>
